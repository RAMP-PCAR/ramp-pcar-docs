/*! ramp-gis-viewer 23-05-2014 */
require(["dojo/parser","dojo/on","dojo/request/script","dojo/request/xhr","ramp/map","ramp/basemapSelector","ramp/maptips","ramp/datagrid","ramp/navigation","ramp/filterManager","ramp/bookmarkLink","utils/url","ramp/featureHighlighter","ramp/ramp","ramp/globalStorage","ramp/gui","ramp/eventManager","utils/util","utils/prototype!","utils/functionMangler!"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";function s(){e.init(),h.init(),b.once(e.getMap(),"update-end",function(){r.subscribeAll([q.BasemapSelector.UI_COMPLETE,q.FilterManager.UI_COMPLETE],function(){k.init(window.location.pathname.split("/").last())});var a=e.getMap().__LOD.level?e.getMap().__LOD.level:0;i.init(a),m.init(),g.init(),f.init(),j.init()})}r.checkConsole(),a.parse(),esri.config.defaults.io.corsDetection=!1;var t=$("html").attr("lang");"en"!==t&&"fr"!==t&&(t="en");var u="fr"===t?"config.fr.json":"config.en.json",v=d(u,{handleAs:"json"});v.then(function(a){o.config=a,p.load(null,null,function(){}),s(),n.loadStrings()},function(a){})});